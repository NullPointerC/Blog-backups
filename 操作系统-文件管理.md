---
title: 操作系统-文件管理
categories: [OS]
tags:
  - 计算机基础
  - backend
date: 2021-04-17 15:04:49
---

## 1.文件的逻辑结构

分类

![image-20210417150628501](https://gitee.com/cao_ziqiang/img/raw/master/20210417150628.png)

### 1.1有结构文件

1. 文件内容由定长记录和可变长记录组成
2. 定长记录存储文件格式、文件描述等结构化数据项
3. 可变长记录存储文件具体内容

### 1.2无结构文件

1. 也称为流式文件
2. 文件内容长度以字节为单位

### 1.3.顺序文件

1. 顺序文件是指按顺序存放在存储介质中的文件

2. 磁带的存储特性使得磁带文件只能存储顺序文件

3. 顺序文件是所有逻辑文件当中存储效率最高的

### 1.4.索引文件

1. 可变长文件不适合使用顺序文件格式存储
2. 索引文件是为了解决可变长文件存储而发明的一种文件格式
3. 索引文件需要配合索引表完成存储的操作

## 2.辅存的存储空间分配

### 2.1辅存的分配方式

连续分配:

顺序读取文件内容非常容易，速度很快;

对存储要求高，要求满足容量的连续存储空间;

链接分配:

链接分配可以将文件存储在离散的盘块中;

需要额外的存储空间存储文件的盘块链接顺序;

隐式分配的下一个链接指向存储在当前盘块内;

隐式分配适合顺序访问，随机访问效率很低

索引分配:

把文件的所有盘块集中存储（索引);

读取某个文件时，将文件索引读取进内存即可;

每个文件拥有一个索引块，记录所有盘块信息;

索引分配方式支持直接访问盘块;

文件较大时，索引分配方式具有明显优势

### 2.2辅存的存储空间分配

空闲表:

![image-20210417151836068](https://gitee.com/cao_ziqiang/img/raw/master/20210417151836.png)

空闲链表:

空闲链表法把所有空闲盘区组成一个空闲链表

每个链表节点存储空闲盘块和空闲的数目

位示图:

![image-20210417151951748](https://gitee.com/cao_ziqiang/img/raw/master/20210417151951.png)

位示图维护成本很低

位示图可以非常容易找到空闲盘块

位示图使用0/1比特位，占用空间很小

## 3.Linux文件操作

### 3.1linux目录

![image-20210417152236484](https://gitee.com/cao_ziqiang/img/raw/master/20210417152236.png)

linux一切皆文件

![image-20210417152518927](https://gitee.com/cao_ziqiang/img/raw/master/20210417152519.png)

### 3.2linux文件基本操作

创建:`touch`,`vim`

删除:`rm` ,`rm -r`

查看:`cat`

### 3.3linux文件类型

![image-20210417152932997](https://gitee.com/cao_ziqiang/img/raw/master/20210417152933.png)

## 4.Linux文件系统

FAT文件系统

1. FAT(File Allocation Table)
2. FAT16、FAT32等，微软Dos/Windows使用的文件系统
3. 使用一张表保存盘块的信息

NTFS文件系统(New Technology File System)

1. WindowsNT环境的文件系统
2. NTFS对FAT进行了改进，取代了旧的文件系统

EXT文件系统(Extended file system)

1. Linux的文件系统
2. EXT2/3/4数字表示第几代

