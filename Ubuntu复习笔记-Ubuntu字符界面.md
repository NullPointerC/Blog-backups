---
title: Ubuntu复习笔记-Ubuntu字符界面
date: 2022-01-03 13:26:45
categories: Ubuntu
tags: [Ubuntu,Linux,backend]
---

Ubuntu不仅有友好的图形界面，也有功能强大的字符界面。这里复习一下常用的命令。

## 登录与注销

### 登录

在Ubuntu中默认不允许root用户登录，因为它具有最高等级的权限。使用普通用户登录后打开终端，输入su即可进入root用户的权限模式。

此外，Ubuntu还可以创建临时用户，如$useradd$和$adduser$命令。

使用前者创建，不会自动在$/home$目录下创建同名的用户目录，而且不会自动选择shell版本，也不会设置密码，因为这个用户被创建后不能被立即使用，需要使用$passwd$修改密码后才可以继续使用。

使用$adduser$创建用户，可以立即使用，也需要用户提供一些用户信息。

使用$login$命令可以进行登录和不同账户之间进行切换。

### 注销

在Ubuntu中注销需要输入$logout$命令。

### 退出shell

$exit$命令是退出控制台，用户退出当前的$shell$。仅仅是关闭了当前的终端，并不会退出系统。

### 修改密码

$passwd$命令用户修改当前用户的密码。需要输入原密码，原密码验证成功后方可以进行修改，且新密码不能与原密码相同。

### 关闭系统

强制关机可能会损坏系统，在Ubuntu中一般使用关机命令进行关机。

如：$shutdown(-h)、halt、poweroff$，它们都可以使系统关闭。

其中$halt$命令只有$root$用户才有权执行，它会在关闭所有进程后自动关机。

$shundown -h\quad10$

设置系统将于$10$分钟后关机，若要取消关机，在关机前输入$shutdown-c$即可。

$poweroff$不用切换至$root$，也会在关闭所有后台进程后自动关机。

### 重启

$shutdown(-r)、init、reboot$。

$shutdown(-r)\quad 10$命令将会使系统在10分粥自动重启，若取消和关机取消命令一致。

$init\quad 6$

执行后，系统将自动重启，此外，$init$还有几个不同的级别。

| 参数 | 功能                            |
| ---- | ------------------------------- |
| $0$  | 停机                            |
| $1$  | 单用户模式                      |
| $2$  | 多用户，不能使用net file system |
| $3$  | 完全多用户                      |
| $4$  | 图形化                          |
| $5$  | 安全模式                        |
| $6$  | 重启                            |

$reboot$命令则会得到和$init\quad 6$一样的结果。

## 目录与文件

### 显示当前目录

$pwd$命令将会显示用户当前的目录。

### 更换目录

$cd$命令是Ubuntu中最基本的目录命令，用户进行目录之间的切换。

### 创建目录

$mkdir$命令用于创建目录。

路径可选择绝对路径也可选择相对路径。

### 删除目录

$rmdir$命令用于删除一个空目录。

### 移动目录

在Ubuntu要移动或重命名目录，需要使用$mv$命令，该命令用于将文件移动到指定的目录。

### 复制

$cp$命令用于复制文件和目录。

### 删除

$rm-rf$命令用于删除目录及文件。

### 创建文件及修改时间

$touch$命令用于创建文件及修改文件的日期时间。

### 查看目录和文件

$ls$命令用于查看目录以及文件。

$ls-a$命令还可以查看以$.$开头的隐藏文件；

$ls-i$命令可以显示文件素以节点号；

$ls-l$命令可以查看文件的更多详细信息；

$ls-m$可以使用“，”分隔每个文件和目录的名称；

$ls-R$命令可以列出当前目录下的所有文件和子目录；

### 树状图

需要先安装$tree$工具

```bash
sudo apt-get install tree
```

$tree-a$可以查看所有文件；

$tree-i$不以阶梯状列出所有的文件以及目录；

### 详细信息

使用$stat$命令可以查看文件的详细信息，如名称，大小，容量，IO模块等。

## 文件内容显示

### 创建及显示

$cat$命令用于查看文件，加入$-n$选项还可以对输出的内容进行以行为单位的编号。

### 改变权限

chmod命令语法如下

```bash
chmod [u/g/o/a] [+/-/=] [r/w/x]
```

其中$u$指当前用户，$g$表示同组用户，$o$表示其他用户，$a$表示所有用户。

$+$表示增加权限，$-$表示移除权限，$=$表示重置权限；

$r$表示读取文件权限，$w$表示写入文件及目录权限，$x$表示执行权限；

通过使用$1、2、4$的数值表示执行、写、读

### 分页显示

$more$命令用于分页显示文件内容。

对于长文件，$cat$命令比较长，不便于查看，可以使用$more$命令查看，若向往后翻页，按下$space$（空格）即可翻页。

其中more主要用于向后翻页，并不能往前继续翻页，所以可以使用$less$命令自由翻页。

使用如上命令，可以继续使用$Page Down$和$Page Up$实现向上和向下放野。

### 显示指定行

$head$命令可用于读取文件头几行，不指定则显示10行，可设置数字选项来设定需要显示的行数。

$tail$命令用于读取文件的尾部几行，同样可以指定。

## 文件内容处理

### 排序

$sort$命令用于对文件排序，并将排序结果显示到屏幕上。

### 去重

$uniq$命令用于检查文件中的重复内容，可以报告或删除文件中的重复行。

### 查找

$grep$命令可用于在文件中搜索关键字。

### 比较

$diff$命令用于对文件进行比较，第一部分将显示第一个文件的某一行需要做出修改才能和第二个文件中内容相同。剩余部分均为第二部分，告诉我们两个文件的不同之处。

$diff3$用于对3个文件比较。$sdiff$用于合并文件，并以交互方式输出。

若要逐字节查找，可以使用$cmp$命令进行查看。

若要列出不同之处只需加上$-l$选项即可。

$comm$命令用于对有序文件进行比较，结果将显示3列，第一列为只在第一个文件中出现的行，第二列为只在第二个文件出现的行，第三列显示两个文件中相同的行。

### 剪切

cut命令

### 粘贴

paste命令

### 统计

wc命令用于统计指定文件中的字符数、单词数和行数。

结果为3个数字，分别为函数、单词数以及字符数。

可以指定选项分别为$-c$、$-w$、$-l$查看字符数、单词数以及行数。

## 查找

### 硬盘中查找

find命令用于在硬盘中搜索文件以及目录。

### 在数据库中查找

locate命令也用于查找文件，速度比$find$命令块，但是新创建的文件不方便搜索，需要$root$用于执行$updatedb$才可以查找到。

### 查找指定文件的位置

whereis命令用户查找特定目录下符合条件的文件。

### 查找可执行文件的位置

which命令也用于查找文件，不过该命令会在$PATH$设置的目录查找符合条件的文件。

## 硬盘管理

### 检测占用情况

$df\quad -h$命令用于显示磁盘空间。

-T选项用于列出文件系统的类型，-t命令查看选定文件系统的磁盘信息，也可以使用-x命令查看文件系统的磁盘信息。

### 统计目录

du命令可查看目录或文件所占磁盘空间大小。

-h选项可查看磁盘空间大小，-a可查看所有文件，-s可查看某一文件的大小。

## 备份压缩

### zip、unzip、zipinfo

zip命令创建zip的压缩文件。

-d选项删除压缩包中的文件，-m选项添加文件。

unzip命令解压文件

-o选项覆盖原文件，-n选项不覆盖原文件。

zipinfo列出压缩包的文件信息。

### gzip、gunzip、gzexe

gzip命令产生.gz的压缩文件。

gunzip对压缩包进行解压，gzexe可对文件压缩，加上-d选项为对文件解压。

### bzip2、bunzip2、bzip2recover

要产生.bz2的压缩文件，需要使用bzip2命令。

如果压缩文件损坏，可以使用bzip2recover进行修复。

### compress和uncompress

要产生.z的压缩文件，需要使用compress命令。

解压可以使用compress -d也可以使用uncompress。

### dump和tar

dump命令将文件进行备份。

tar命令也可以用于对文件进行备份。

tar命令打包并压缩

```bash
tar czvf	this.tar.gz ./
```

tar命令解压

```bash
tar -zxvf	this.tar.gz ./
```

## 获取帮助

### man

man命令可以获取相应命令的帮助。

### whatis

whatis可以查看一个命令可以执行什么功能。

### help

help命令也可以查看一个内部命令的功能

## 其他命令

清除屏幕：clear

显示文本：echo

显示日期和时间：date、cal、cal -y

查看进程：ps -A、ps U user01

终止进程：kill -9 pid、pkill 进程名

最近登录：last

历史指令：history

切换超级用户：su

定义别名：alias



