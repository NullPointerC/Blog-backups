---
title: 计算机网络复习-概述
categories:
  - 计算机网络
tags:
  - 计算机基础
  - backend
abbrlink: 31bbc7bb
date: 2021-06-22 14:02:34
---

前言:

<pre>
    本次复习基于谢希仁老师的《计算机网络》-第七版,也是本人对于计算机网络的一次复习
</pre>

# 第1章 概述

## 1.1 计算机网络在信息时代中的作用

**21 世纪的一些重要特征就是数字化、网络化和信息化，它是一个以网络为核心的信息时代。**

**网络现已成为信息社会的命脉和发展知识经济的重要基础。**

**网络是指“三网”，即电信网络、有线电视网络和计算机网络。**

**发展最快的并起到核心作用的是计算机网络。**

### 因特网(Internet)的发展

* 进入 20 世纪 90 年代以后，以因特网为代表的计算机网络得到了飞速的发展。
* 已从最初的教育科研网络逐步发展成为商业网络。
* 已成为仅次于全球电话网的世界第二大网络。

### 因特网的意义

* 因特网是自印刷术以来人类通信方面最大的变革。
* 现在人们的生活、工作、学习和交往都已离不开因特网。 

## 1.2 互联网概述

###  网络的网络

* 起源于美国的因特网现已发展成为世界上最大的国际性计算机互联网 
* 网络(network)由若干结点(node)和连接这些结点的链路(link)组成。 
* 互联网是“网络的网络”(network of networks)。 
* 连接在因特网上的计算机都称为主机(host)。 
* 网络与因特网
	* 网络把许多计算机连接在一起。
	* 因特网则把许多网络连接在一起。

- 因此互连网是网络的网络。而互联网（Internet）是全球范围的互连网。

![img](https://gitee.com/cao_ziqiang/img/raw/master/20210622153851.gif)

### 互联网发展的三个阶段

* 第一阶段是从单个网络 ARPANET 向互联网发展的过程。
	* 1983 年 TCP/IP 协议成为 ARPANET 上的标准协议。
	* 人们把 1983 年作为因特网的诞生时间。
* 第二阶段的特点是建成了三级结构的因特网。
	* 三级计算机网络，分为主干网、地区网和校园网（或企业网）。 
* 第三阶段的特点是逐渐形成了多层次 ISP 结构的因特网。
	* 出现了因特网服务提供者 ISP (Internet Service Provider)。  
	* 根据提供服务的覆盖面积大小以及所拥有的IP 地址数目的不同，ISP 也分成为不同的层次。

互联网服务提供商 ISP 可以从互联网管理机构获得许多 IP 地址，同时拥有通信线路以及路由器等联网设备，个人或机构向 ISP 缴纳一定的费用就可以接入互联网。

![img](https://gitee.com/cao_ziqiang/img/raw/master/20210622154304.png)

目前的互联网是一种多层次 ISP 结构，ISP 根据覆盖面积的大小分为第一层 ISP、区域 ISP 和接入 ISP。互联网交换点 IXP 允许两个 ISP 直接相连而不用经过第三个 ISP。

![img](https://gitee.com/cao_ziqiang/img/raw/master/20210622154317.png)



### 互联网的标准化工作

* 制订因特网的正式标准要经过以下的四个阶段 
	* 因特网草案(Internet Draft) ——在这个阶段还不是 RFC 文档。
	* 建议标准(Proposed Standard) ——从这个阶段开始就成为 RFC 文档。
	* 草案标准(Draft Standard)
	* 因特网标准(Internet Standard) 
* 各种RFC之间的关系
	* 历史的RFC文档
	* 实验的RFC文档
	* 提供信息的RFC文档

## 1.3 互联网的组成

### 互联网的边缘部分

* 由所有连接在因特网上的主机组成。这部分是用户直接使用的，用来进行通信（传送数据、音频或视频）和资源共享。
	* 处在因特网边缘的部分就是连接在因特网上的所有的主机。这些主机又称为端系统(end system)。
	* “主机 A 和主机 B 进行通信”，实际上是指：“运行在主机 A 上的某个程序和运行在主机 B 上的另一个程序进行通信”。
	* 即“主机 A 的某个进程和主机 B 上的另一个进程进行通信”。或简称为“计算机之间通信” 
	* 客户-服务器（C/S）：客户是服务的请求方，服务器是服务的提供方。
	* 对等（P2P）：不区分客户和服务器。

![img](https://gitee.com/cao_ziqiang/img/raw/master/20210622155243.jpeg)

<hr/>

![img](https://gitee.com/cao_ziqiang/img/raw/master/20210622155422.jpeg)

### 互联网的核心部分

* 由大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）
	* 网络核心部分是因特网中最复杂的部分。
	* 网络中的核心部分要向网络边缘中的大量主机提供连通性，使边缘部分中的任何一个主机都能够向其他主机通信（即传送或接收各种形式的数据）。
	* 在网络核心部分起特殊作用的是路由器(router)。
		* 路由器是实现分组交换(packet switching)的关键构件，其任务是转发收到的分组，这是网络核心部分最重要的功能。
			* 在路由器中的输入和输出端口之间没有直接连线。
			* 路由器处理分组的过程是：
				* 把收到的分组先放入缓存（暂时存储）；
				* 查找转发表，找出到某个目的地址应从哪个端口转发；
				* 把分组送到适当的端口转发出去。 
	* 路由器是实现分组交换(packet switching)的关键构件，其任务是转发收到的分组，这是网络核心部分最重要的功能。 

### 电路交换与分组交换

电路交换用于电话通信系统，两个用户要通信之前需要建立一条专用的物理链路，并且在整个通信过程中始终占用该链路。由于通信的过程中不可能一直在使用传输线路，因此电路交换对线路的利用率很低，往往不到 10%。

<hr/>

每个分组都有首部和尾部，包含了源地址和目的地址等控制信息，在同一个传输线路上同时传输多个分组互相不会影响，因此在同一条传输线路上允许同时传输多个分组，也就是说分组交换不需要占用传输线路。

在一个邮局通信系统中，邮局收到一份邮件之后，先存储下来，然后把相同目的地的邮件一起转发到下一个目的地，这个过程就是存储转发过程，分组交换也使用了存储转发过程。

### 时延

总时延 = 排队时延 + 处理时延 + 传输时延 + 传播时延

[![img](https://gitee.com/cao_ziqiang/img/raw/master/20210622155611.jpeg)](https://camo.githubusercontent.com/0a962523171ffa6b3b517823ab985c378b1acf07cd439aec5e9b535b6351efce/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f34623261653738632d653235342d343464662d396533372d3537386532663262656635322e6a7067)



1. 排队时延

分组在路由器的输入队列和输出队列中排队等待的时间，取决于网络当前的通信量。

2. 处理时延

主机或路由器收到分组时进行处理所需要的时间，例如分析首部、从分组中提取数据、进行差错检验或查找适当的路由等。

3. 传输时延

主机或路由器传输数据帧所需要的时间。

[![img](https://gitee.com/cao_ziqiang/img/raw/master/20210622155620.png)](https://camo.githubusercontent.com/c7aba1e9d6b3102633359b875555573794643242359c985d66e9d0b7c94ae766/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f64636462623936632d393037372d343132312d616562382d3734336535346163303261342e706e67)



其中 l 表示数据帧的长度，v 表示传输速率。

4. 传播时延

电磁波在信道中传播所需要花费的时间，电磁波传播的速度接近光速。

[![img](https://gitee.com/cao_ziqiang/img/raw/master/20210622155631.png)](https://camo.githubusercontent.com/c9de58438de83509f26f14b6dbab912917d677287c10ec56e26572bbd5527de9/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f61313631366461632d306531322d343062322d383237642d3965336637663062393430642e706e67)



其中 l 表示信道长度，v 表示电磁波在信道上的传播速度。

## 1.4 计算机在我国的发展

(1) 中国公用计算机互联网 CHINANET

(2) 中国教育和科研计算机网 CERNET

(3) 中国科学技术网 CSTNET

(4) 中国联通互联网 UNINET

(5) 中国网通公用互联网 CNCNET

(6) 中国国际经济贸易互联网 CIETNET

(7) 中国移动互联网 CMNET

(8) 中国长城互联网 CGWNET（建设中）

(9) 中国卫星集团互联网 CSNET（建设中）

## 1.5 计算机网络的类别

### 计算机网络的定义

* 最简单的定义：计算机网络是一些互相连接的、自治的计算机的集合。
* 因特网(Internet)是“网络的网络”。

### 几种不同类别的网络

* 不同作用范围的网络 
	* 广域网 WAN (Wide Area Network)
	* 局域网 LAN (Local Area Network) 
	* 城域网 MAN (Metropolitan Area Network)
	* 个人区域网 PAN (Personal Area Network) 
* 从网络的使用者进行分类 
	* 公用网 (public network) 
	* 专用网 (private network) 

## 1.6 计算机网络的性能

### 计算机网络的性能指标

* 速率
	* 比特（bit）是计算机中数据量的单位，也是信息论中使用的信息量的单位。
	* Bit 来源于 binary digit，意思是一个“二进制数字”，因此一个比特就是二进制数字中的一个 1 或 0。
	* 速率即数据率(data rate)或比特率(bit rate)是计算机网络中最重要的一个性能指标。速率的单位是 b/s，或kb/s, Mb/s, Gb/s 等
	* 速率往往是指额定速率或标称速率。  
* 带宽 
	* “带宽”(bandwidth)本来是指信号具有的频带宽度，单位是赫（或千赫、兆赫、吉赫等）。
	* 现在“带宽”是数字信道所能传送的“最高数据率”的同义语，单位是“比特每秒”，或 b/s (bit/s)。 
	* 常用的带宽单位
		* 更常用的带宽单位是
		* 千比每秒，即 kb/s （103 b/s）
		* 兆比每秒，即 Mb/s（106 b/s）
		* 吉比每秒，即 Gb/s（109 b/s）
		* 太比每秒，即 Tb/s（1012 b/s）
		* 请注意：在计算机界，K = 210 = 1024
		* M = 220, G = 230, T = 240。
	* 数字信号流随时间的变化
		* 在时间轴上信号的宽度随带宽的增大而变窄。
* 吞吐量
	* 吞吐量(throughput)表示在单位时间内通过某个网络（或信道、接口）的数据量。
	* 吞吐量更经常地用于对现实世界中的网络的一种测量，以便知道实际上到底有多少数据量能够通过网络。
	* 吞吐量受网络的带宽或网络的额定速率的限制。  
* 时延(delay 或 latency)
	* 传输时延（发送时延 ）    发送数据时，数据块从结点进入到传输媒体所需要的时间。
	* 也就是从发送数据帧的第一个比特算起，到该帧的最后一个比特发送完毕所需的时间。 
	* 传播时延    电磁波在信道中需要传播一定的距离而花费的时间。 
	* 信号传输速率（即发送速率）和信号在信道上的传播速率是完全不同的概念。 
	* 处理时延    交换结点为存储转发而进行一些必要的处理所花费的时间。 
	* 排队时延    结点缓存队列中分组排队所经历的时延。
	* 排队时延的长短往往取决于网络中当时的通信量。
	* 数据经历的总时延就是发送时延、传播时延、处理时延和排队时延之和： 
* 时延带宽积
	* 链路的时延带宽积又称为以比特为单位的链路长度。 
* 利用率
	* 信道利用率指出某信道有百分之几的时间是被利用的（有数据通过）。完全空闲的信道的利用率是零。
	* 网络利用率则是全网络的信道利用率的加权平均值。
	* 信道利用率并非越高越好。 
* 时延与网络利用率的关系
	* 根据排队论的理论，当某信道的利用率增大时，该信道引起的时延也就迅速增加。 
	* 若令 D0 表示网络空闲时的时延，D 表示网络当前的时延，则在适当的假定条件下，可以用下面的简单公式表示 D 和 D0之间的关系：
		* U 是网络的利用率，数值在 0 到 1 之间。 

### 计算机网络的非性能特征

* 费用
* 质量
* 标准化
* 可靠性
* 可扩展性和可升级性 
* 易于管理和维护 

## 1.7 计算机网络的体系结构

### 计算机网络体系结构的形成

* 相互通信的两个计算机系统必须高度协调工作才行，而这种“协调”是相当复杂的。 
* “分层”可将庞大而复杂的问题，转化为若干较小的局部问题，而这些较小的局部问题就比较易于研究和处理。

![img](https://gitee.com/cao_ziqiang/img/raw/master/20210622155743.png)

1. 五层协议

- **应用层** ：为特定应用程序提供数据传输服务，例如 HTTP、DNS 等协议。数据单位为报文。
- **传输层** ：为进程提供通用数据传输服务。由于应用层协议很多，定义通用的传输层协议就可以支持不断增多的应用层协议。运输层包括两种协议：传输控制协议 TCP，提供面向连接、可靠的数据传输服务，数据单位为报文段；用户数据报协议 UDP，提供无连接、尽最大努力的数据传输服务，数据单位为用户数据报。TCP 主要提供完整性服务，UDP 主要提供及时性服务。
- **网络层** ：为主机提供数据传输服务。而传输层协议是为主机中的进程提供数据传输服务。网络层把传输层传递下来的报文段或者用户数据报封装成分组。
- **数据链路层** ：网络层针对的还是主机之间的数据传输服务，而主机之间可以有很多链路，链路层协议就是为同一链路的主机提供数据传输服务。数据链路层把网络层传下来的分组封装成帧。
- **物理层** ：考虑的是怎样在传输媒体上传输数据比特流，而不是指具体的传输媒体。物理层的作用是尽可能屏蔽传输媒体和通信手段的差异，使数据链路层感觉不到这些差异。

2. OSI

其中表示层和会话层用途如下：

- **表示层** ：数据压缩、加密以及数据描述，这使得应用程序不必关心在各台主机中数据内部格式不同的问题。
- **会话层** ：建立及管理会话。

五层协议没有表示层和会话层，而是将这些功能留给应用程序开发者处理。

3. TCP/IP

它只有四层，相当于五层协议中数据链路层和物理层合并为网络接口层。

TCP/IP 体系结构不严格遵循 OSI 分层概念，应用层可能会直接使用 IP 层或者网络接口层。

[![img](https://gitee.com/cao_ziqiang/img/raw/master/20210622155759.png)](https://camo.githubusercontent.com/dfd049aa29f5c514450e4a687bb793b6517025da576dde3aabc1f51edb3dda90/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f34386437396265382d303835622d343836322d386139642d3138343032656239336233312e706e67)



4. 数据在各层之间的传递过程

在向下的过程中，需要添加下层协议所需要的首部或者尾部，而在向上的过程中不断拆开首部和尾部。

路由器只有下面三层协议，因为路由器位于网络核心中，不需要为进程或者应用程序提供服务，因此也就不需要传输层和应用层。

### 协议与划分层次

* 划分层次的必要性
	* 计算机网络中的数据交换必须遵守事先约定好的规则。 
	* 这些规则明确规定了所交换的数据的格式以及有关的同步问题（同步含有时序的意思）。
	* 网络协议(network protocol)，简称为协议，是为进行网络中的数据交换而建立的规则、标准或约定。
* 网络协议的组成要素
	* 语法     数据与控制信息的结构或格式 。 
	* 语义     需要发出何种控制信息，完成何种动作以及做出何种响应。 
	* 同步    事件实现顺序的详细说明。
* 分层的好处 
	* 各层之间是独立的。
	* 灵活性好。
	* 结构上可分割开。
	* 易于实现和维护。
	* 能促进标准化工作。  

### 具有五层协议的体系结构

* TCP/IP 是四层的体系结构：应用层、运输层、网际层和网络接口层。
* 但最下面的网络接口层并没有具体内容。
* 因此往往采取折中的办法，即综合 OSI 和 TCP/IP 的优点，采用一种只有五层协议的体系结构 。 

### 实体、协议、服务和服务访问点

* 实体(entity) 表示任何可发送或接收信息的硬件或软件进程。 
* 协议是控制两个对等实体进行通信的规则的集合。 
* 在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务。
* 要实现本层协议，还需要使用下层所提供的服务。 
* 本层的服务用户只能看见服务而无法看见下面的协议。
* 下面的协议对上面的服务用户是透明的。 
* 协议是“水平的”，即协议是控制对等实体之间通信的规则。
* 服务是“垂直的”，即服务是由下层向上层通过层间接口提供的。
* 同一系统相邻两层的实体进行交互的地方，称为服务访问点 SAP (Service Access Point)。 
* 协议必须把所有不利的条件事先都估计到，而不能假定一切都是正常的和非常理想的。 
* 看一个计算机网络协议是否正确，不能光看在正常情况下是否正确，而且还必须非常仔细地检查这个协议能否应付各种异常情况。 

## 补充

### internet 和 Internet 的区别

以小写字母 i 开始的 internet（互联网或互连网）是一个通用名词，它泛指由多个计算机网络互连而成的网络。 

以大写字母I开始的的 Internet（因特网）则是一个专用名词，它指当前全球最大的、开放的、由众多网络相互连接而成的特定计算机网络，它采用 TCP/IP 协议族作为通信的规则，且其前身是美国的 ARPANET。

### 分组交换

在发送端，先把较长的报文划分成较短的、固定长度的数据段。 

添加首部构成分组

* 每一个数据段前面添加上首部构成分组

分组交换的传输单元

* 分组交换网以“分组”作为数据传输单元。
* 依次把各分组发送到接收端（假定接收端在左边）

分组首部的重要性

* 每一个分组的首部都含有地址等控制信息。
* 分组交换网中的结点交换机根据收到的分组的首部中的地址信息，把分组转发到下一个结点交换机。
* 用这样的存储转发方式，最后分组就能到达最终目的地。

收到分组后剥去首部

* 接收端收到分组后剥去首部还原成报文

分组交换的优点

* 高效    动态分配传输带宽，对通信链路是逐段占用。 
* 灵活    以分组为传送单位和查找路由。
* 迅速    不必先建立连接就能向其他主机发送分组。
* 可靠    保证可靠性的网络协议；分布式的路由选择协议使网络有很好的生存性。

分组交换带来的问题

* 分组在各结点存储转发时需要排队，这就会造成一定的时延。 
* 分组必须携带的首部（里面有必不可少的控制信息）也造成了一定的开销。

### 电路交换

两部电话机只需要用一对电线就能够互相连接起来。

更多的电话机互相连通

* 5 部电话机两两相连，需 10 对电线。
* N 部电话机两两相连，需 N(N – 1)/2 对电线。
* 当电话机的数量很大时，这种连接方法需要的电线对的数量与电话机数的平方成正比。

使用交换机

* 当电话机的数量增多时，就要使用交换机来完成全网的交换任务。

电路交换的特点

* 电路交换必定是面向连接的。 
* 电路交换的三个阶段：
	* 建立连接
	* 通信
	* 释放连接
* 电路交换传送计算机数据效率低
	* 计算机数据具有突发性。
	* 这导致通信线路的利用率很低。

### 报文交换

报文交换中的交换结点也采用存储转发方式，但报文交换对报文的大小没有限制，这就要求交换结点需要较大的缓存空间。报文交换主要用于早期的电报通信网，现在较少使用，**通常被较先进的分组交换方式所取代**。

<hr/>

![image-20210704162952111](https://gitee.com/cao_ziqiang/img/raw/master/20210704162956.png)